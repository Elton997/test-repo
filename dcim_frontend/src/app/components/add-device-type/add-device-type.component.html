<div class="page-container">

  <div class="device-type-card">
    <h2 class="section-title">Device Type</h2>

    <form [formGroup]="deviceTypeForm" class="device-type-form" (ngSubmit)="saveDeviceType()">

      <div class="form-grid">

        <!-- Device Type Name -->
        <div class="form-row">
          <label class="form-label">Device Type Name <span class="required">*</span></label>
          <input type="text" formControlName="deviceTypeName" />
          <span class="error" *ngIf="submitAttempted && deviceTypeForm.get('deviceTypeName')?.errors?.['required']">
            This field is required
          </span>
        </div>

        <!-- Make Name -->
        <div class="form-row">
          <label class="form-label">Make Name <span class="required">*</span></label>
          <input type="text" placeholder="Select make..." class="mat-input-element"
                 [matAutocomplete]="autoMake"
                 (input)="onSearch($event)"
                 [formControl]="makeInputControl"
                 (focusout)="onFieldBlur('makeName')"/>
          <mat-autocomplete #autoMake="matAutocomplete" (optionSelected)="getMake($event)">
            <mat-option *ngFor="let v of filteredMakes" [value]="v">
              {{ v }}
            </mat-option>
          </mat-autocomplete>
          <span class="error" *ngIf="submitAttempted && deviceTypeForm.get('makeName')?.errors?.['required']">
            This field is required
          </span>
        </div>

        <!-- Description -->
        <div class="form-row form-col-1">
          <label class="form-label">Description <span class="required">*</span></label>
          <textarea rows="3" formControlName="description"></textarea>
          <span class="error" *ngIf="submitAttempted && deviceTypeForm.get('description')?.errors?.['required']">
            This field is required
          </span>
        </div>

      </div>

      <div class="btn-row">
        <button mat-stroked-button type="button" class="reset-btn" (click)="resetForm()">Reset</button>
        <button mat-flat-button color="primary">
          {{ editData ? 'Update' : 'Save' }}
        </button>
        <button mat-flat-button color="accent" *ngIf="!editData" type="button" (click)="saveAndAddAnother()">
          Save & Add Another
        </button>
      </div>

    </form>
  </div>

</div>